import 'package:flutter_bloc/flutter_bloc.dart';
import 'recipes_event.dart';
import 'recipes_state.dart';
import '../models/recipe.dart';

class RecipesBloc extends Bloc<RecipesEvent, RecipesState> {
  RecipesBloc() : super(RecipesDataState(data: [])) {
    on<RefreshRecipesEvent>(_onRefreshRecipesEvent);
    on<SearchRecipesEvent>(_onSearchRecipesEvent);
    on<FilterByCategoryEvent>(_onFilterByCategoryEvent);
    on<SortRecipesEvent>(_onSortRecipesEvent);
  }

  final List<Recipe> _allRecipes = [
    Recipe(
      id: '1',
      name: '–ë–æ—Ä—â —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π',
      category: '–ü–µ—Ä—à—ñ —Å—Ç—Ä–∞–≤–∏',
      time: '90 —Ö–≤',
      calories: 320,
      rating: 4.8,
      emoji: 'ü•£',
      difficulty: '–°–µ—Ä–µ–¥–Ω—è',
      servings: 6,
      description: '–ö–ª–∞—Å–∏—á–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –±–æ—Ä—â –∑ –º\'—è—Å–æ–º, –±—É—Ä—è–∫–æ–º —Ç–∞ –∫–∞–ø—É—Å—Ç–æ—é. –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Å—ñ–º–µ–π–Ω–æ–≥–æ –æ–±—ñ–¥—É.',
      ingredients: [
        '–Ø–ª–æ–≤–∏—á–∏–Ω–∞ - 500 –≥',
        '–ë—É—Ä—è–∫ - 2 —à—Ç',
        '–ö–∞–ø—É—Å—Ç–∞ - 300 –≥',
        '–ö–∞—Ä—Ç–æ–ø–ª—è - 3 —à—Ç',
        '–ú–æ—Ä–∫–≤–∞ - 1 —à—Ç',
        '–¶–∏–±—É–ª—è - 1 —à—Ç',
        '–¢–æ–º–∞—Ç–Ω–∞ –ø–∞—Å—Ç–∞ - 2 —Å—Ç.–ª.',
        '–ß–∞—Å–Ω–∏–∫ - 3 –∑—É–±—á–∏–∫–∏',
        '–°–º–µ—Ç–∞–Ω–∞ –¥–ª—è –ø–æ–¥–∞—á—ñ',
      ],
      steps: [
        '–í—ñ–¥–≤–∞—Ä—ñ—Ç—å –º\'—è—Å–æ –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ (1-1,5 –≥–æ–¥–∏–Ω–∏)',
        '–ù–∞—Ç—Ä—ñ—Ç—å –±—É—Ä—è–∫ –Ω–∞ –∫—Ä—É–ø–Ω—ñ–π —Ç–µ—Ä—Ç—Ü—ñ',
        '–ù–∞—à–∞—Ç–∫—É–π—Ç–µ –∫–∞–ø—É—Å—Ç—É —Ç–æ–Ω–∫–æ—é —Å–æ–ª–æ–º–∫–æ—é',
        '–ü–æ—á–∏—Å—Ç—ñ—Ç—å —ñ –Ω–∞—Ä—ñ–∂—Ç–µ –∫—É–±–∏–∫–∞–º–∏ –∫–∞—Ä—Ç–æ–ø–ª—é',
        '–ó—Ä–æ–±—ñ—Ç—å –∑–∞–∂–∞—Ä–∫—É –∑ –º–æ—Ä–∫–≤–∏, —Ü–∏–±—É–ª—ñ —Ç–∞ —Ç–æ–º–∞—Ç–Ω–æ—ó –ø–∞—Å—Ç–∏',
        '–î–æ–¥–∞–π—Ç–µ –æ–≤–æ—á—ñ –¥–æ –±—É–ª—å–π–æ–Ω—É –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—ñ',
        '–í–∞—Ä—ñ—Ç—å —â–µ 20-30 —Ö–≤–∏–ª–∏–Ω –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ –æ–≤–æ—á—ñ–≤',
        '–ü–æ–¥–∞–≤–∞–π—Ç–µ –∑—ñ —Å–º–µ—Ç–∞–Ω–æ—é —Ç–∞ —á–∞—Å–Ω–∏–∫–æ–≤–∏–º–∏ –ø–∞–º–ø—É—à–∫–∞–º–∏',
      ],
    ),
    Recipe(
      id: '2',
      name: '–ú–ª–∏–Ω—Ü—ñ –∑ –º\'—è—Å–æ–º',
      category: '–û—Å–Ω–æ–≤–Ω—ñ —Å—Ç—Ä–∞–≤–∏',
      time: '60 —Ö–≤',
      calories: 280,
      rating: 4.6,
      emoji: 'ü•û',
      difficulty: '–°–µ—Ä–µ–¥–Ω—è',
      servings: 4,
      description: '–¢–æ–Ω–∫—ñ –º–ª–∏–Ω—Ü—ñ –∑ —Å–æ–∫–æ–≤–∏—Ç–æ—é –º\'—è—Å–Ω–æ—é –Ω–∞—á–∏–Ω–∫–æ—é. –°–º–∞—á–Ω–æ —ñ —Å–∏—Ç–Ω–æ!',
      ingredients: [
        '–ú–æ–ª–æ–∫–æ - 500 –º–ª',
        '–Ø–π—Ü—è - 3 —à—Ç',
        '–ë–æ—Ä–æ—à–Ω–æ - 300 –≥',
        '–§–∞—Ä—à –º\'—è—Å–Ω–∏–π - 400 –≥',
        '–¶–∏–±—É–ª—è - 2 —à—Ç',
        '–°—ñ–ª—å, –ø–µ—Ä–µ—Ü—å –∑–∞ —Å–º–∞–∫–æ–º',
        '–û–ª—ñ—è –¥–ª—è —Å–º–∞–∂–µ–Ω–Ω—è',
      ],
      steps: [
        '–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ —Ç—ñ—Å—Ç–æ: –∑–º—ñ—à–∞–π—Ç–µ –º–æ–ª–æ–∫–æ, —è–π—Ü—è, –±–æ—Ä–æ—à–Ω–æ',
        '–ó–∞—Å–º–∞–∂—Ç–µ –º\'—è—Å–Ω—É –Ω–∞—á–∏–Ω–∫—É –∑ —Ü–∏–±—É–ª–µ—é',
        '–í–∏–ø—ñ–∫–∞–π—Ç–µ —Ç–æ–Ω–∫—ñ –º–ª–∏–Ω—Ü—ñ –Ω–∞ —Ä–æ–∑—ñ–≥—Ä—ñ—Ç—ñ–π —Å–∫–æ–≤–æ—Ä–æ–¥—ñ',
        '–ü–æ–∫–ª–∞–¥—ñ—Ç—å –Ω–∞—á–∏–Ω–∫—É –Ω–∞ –∫–æ–∂–µ–Ω –º–ª–∏–Ω–µ—Ü—å —ñ –∑–∞–≥–æ—Ä–Ω—ñ—Ç—å',
        '–ó–∞ –±–∞–∂–∞–Ω–Ω—è–º, –∑–∞–ø–µ—á—ñ—Ç—å –º–ª–∏–Ω—Ü—ñ –≤ –¥—É—Ö–æ–≤—Ü—ñ',
      ],
    ),
    Recipe(
      id: '3',
      name: '–°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä',
      category: '–°–∞–ª–∞—Ç–∏',
      time: '20 —Ö–≤',
      calories: 250,
      rating: 4.7,
      emoji: 'ü•ó',
      difficulty: '–õ–µ–≥–∫–∞',
      servings: 2,
      description: '–ö–ª–∞—Å–∏—á–Ω–∏–π —Å–∞–ª–∞—Ç –¶–µ–∑–∞—Ä –∑ –∫—É—Ä—è—á–∏–º —Ñ—ñ–ª–µ, —Ö—Ä—É—Å—Ç–∫–∏–º–∏ –≥—Ä—ñ–Ω–∫–∞–º–∏ —Ç–∞ –ø–∞—Ä–º–µ–∑–∞–Ω–æ–º.',
      ingredients: [
        '–ö—É—Ä—è—á–µ —Ñ—ñ–ª–µ - 300 –≥',
        '–°–∞–ª–∞—Ç –†–æ–º–∞–Ω–æ - 1 –ø—É—á–æ–∫',
        '–ü–∞—Ä–º–µ–∑–∞–Ω - 50 –≥',
        '–ë—ñ–ª–∏–π —Ö–ª—ñ–± - 100 –≥',
        '–ß–∞—Å–Ω–∏–∫ - 2 –∑—É–±—á–∏–∫–∏',
        '–°–æ—É—Å –¶–µ–∑–∞—Ä - 4 —Å—Ç.–ª.',
        '–û–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è - 3 —Å—Ç.–ª.',
      ],
      steps: [
        '–û–±—Å–º–∞–∂—Ç–µ –∫—É—Ä—è—á–µ —Ñ—ñ–ª–µ —ñ –Ω–∞—Ä—ñ–∂—Ç–µ —Å–º—É–∂–∫–∞–º–∏',
        '–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ –≥—Ä—ñ–Ω–∫–∏: –Ω–∞—Ä—ñ–∑–∞–Ω—ñ –∫—É–±–∏–∫–∏ —Ö–ª—ñ–±–∞ –ø—ñ–¥—Å–º–∞–∂—Ç–µ –∑ —á–∞—Å–Ω–∏–∫–æ–º',
        '–ü–æ—Ä–≤—ñ—Ç—å –ª–∏—Å—Ç—è —Å–∞–ª–∞—Ç—É —Ä—É–∫–∞–º–∏',
        '–ó–º—ñ—à–∞–π—Ç–µ –≤—Å—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏',
        '–î–æ–¥–∞–π—Ç–µ —Å–æ—É—Å –¶–µ–∑–∞—Ä —ñ —Ç–µ—Ä—Ç–∏–π –ø–∞—Ä–º–µ–∑–∞–Ω',
        '–ü–µ—Ä–µ–º—ñ—à–∞–π—Ç–µ —ñ –ø–æ–¥–∞–≤–∞–π—Ç–µ –Ω–µ–≥–∞–π–Ω–æ',
      ],
    ),
    Recipe(
      id: '4',
      name: '–¢—ñ—Ä–∞–º—ñ—Å—É',
      category: '–î–µ—Å–µ—Ä—Ç–∏',
      time: '30 —Ö–≤ + 4 –≥–æ–¥ –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è',
      calories: 450,
      rating: 4.9,
      emoji: 'üç∞',
      difficulty: '–°–µ—Ä–µ–¥–Ω—è',
      servings: 8,
      description: '–Ü—Ç–∞–ª—ñ–π—Å—å–∫–∏–π –¥–µ—Å–µ—Ä—Ç –∑ –Ω—ñ–∂–Ω–∏–º –∫—Ä–µ–º–æ–º –º–∞—Å–∫–∞—Ä–ø–æ–Ω–µ, –ø–µ—á–∏–≤–æ–º —Å–∞–≤–æ—è—Ä–¥—ñ —Ç–∞ –∫–∞–≤–æ—é.',
      ingredients: [
        '–ú–∞—Å–∫–∞—Ä–ø–æ–Ω–µ - 500 –≥',
        '–ü–µ—á–∏–≤–æ –°–∞–≤–æ—è—Ä–¥—ñ - 300 –≥',
        '–Ø–π—Ü—è - 4 —à—Ç',
        '–¶—É–∫–æ—Ä - 100 –≥',
        '–ú—ñ—Ü–Ω–∞ –∫–∞–≤–∞ - 300 –º–ª',
        '–ö–∞–∫–∞–æ-–ø–æ—Ä–æ—à–æ–∫',
        '–õ—ñ–∫–µ—Ä –ê–º–∞—Ä–µ—Ç—Ç–æ - 50 –º–ª (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)',
      ],
      steps: [
        '–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ –º—ñ—Ü–Ω—É –∫–∞–≤—É —ñ –æ—Ö–æ–ª–æ–¥—ñ—Ç—å',
        '–ó–±–∏–π—Ç–µ –∂–æ–≤—Ç–∫–∏ –∑ —Ü—É–∫—Ä–æ–º –¥–æ –±—ñ–ª–æ—ó –º–∞—Å–∏',
        '–î–æ–¥–∞–π—Ç–µ –º–∞—Å–∫–∞—Ä–ø–æ–Ω–µ —ñ –æ–±–µ—Ä–µ–∂–Ω–æ –ø–µ—Ä–µ–º—ñ—à–∞–π—Ç–µ',
        '–ó–±–∏–π—Ç–µ –±—ñ–ª–∫–∏ –≤ –º—ñ—Ü–Ω—É –ø—ñ–Ω—É —ñ –≤–≤–µ–¥—ñ—Ç—å –≤ –∫—Ä–µ–º',
        '–®–≤–∏–¥–∫–æ –∑–º–æ—á—ñ—Ç—å –ø–µ—á–∏–≤–æ –≤ –∫–∞–≤—ñ',
        '–í–∏–∫–ª–∞–¥–∞–π—Ç–µ —à–∞—Ä–∞–º–∏: –ø–µ—á–∏–≤–æ, –∫—Ä–µ–º, –ø–µ—á–∏–≤–æ, –∫—Ä–µ–º',
        '–ü–æ—Å–∏–ø—Ç–µ –∫–∞–∫–∞–æ-–ø–æ—Ä–æ—à–∫–æ–º',
        '–û—Ö–æ–ª–æ–¥–∂—É–π—Ç–µ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É –º—ñ–Ω—ñ–º—É–º 4 –≥–æ–¥–∏–Ω–∏',
      ],
    ),
    Recipe(
      id: '5',
      name: '–û–º–ª–µ—Ç –∑ –æ–≤–æ—á–∞–º–∏',
      category: '–°–Ω—ñ–¥–∞–Ω–∫–∏',
      time: '15 —Ö–≤',
      calories: 180,
      rating: 4.5,
      emoji: 'üç≥',
      difficulty: '–õ–µ–≥–∫–∞',
      servings: 2,
      description: '–õ–µ–≥–∫–∏–π —ñ –∫–æ—Ä–∏—Å–Ω–∏–π —Å–Ω—ñ–¥–∞–Ω–æ–∫ –∑ —è—î—Ü—å —Ç–∞ —Å–≤—ñ–∂–∏—Ö –æ–≤–æ—á—ñ–≤.',
      ingredients: [
        '–Ø–π—Ü—è - 4 —à—Ç',
        '–ú–æ–ª–æ–∫–æ - 50 –º–ª',
        '–ü–æ–º—ñ–¥–æ—Ä–∏ - 1 —à—Ç',
        '–ë–æ–ª–≥–∞—Ä—Å—å–∫–∏–π –ø–µ—Ä–µ—Ü—å - 1/2 —à—Ç',
        '–¶–∏–±—É–ª—è –∑–µ–ª–µ–Ω–∞ - –ø—É—á–æ–∫',
        '–°–∏—Ä —Ç–µ—Ä—Ç–∏–π - 50 –≥',
        '–°—ñ–ª—å, –ø–µ—Ä–µ—Ü—å –∑–∞ —Å–º–∞–∫–æ–º',
        '–ú–∞—Å–ª–æ –≤–µ—Ä—à–∫–æ–≤–µ - 20 –≥',
      ],
      steps: [
        '–ó–±–∏–π—Ç–µ —è–π—Ü—è –∑ –º–æ–ª–æ–∫–æ–º',
        '–ù–∞—Ä—ñ–∂—Ç–µ –æ–≤–æ—á—ñ –¥—Ä—ñ–±–Ω–∏–º–∏ –∫—É–±–∏–∫–∞–º–∏',
        '–ü—ñ–¥—Å–º–∞–∂—Ç–µ –æ–≤–æ—á—ñ –Ω–∞ –º–∞—Å–ª—ñ',
        '–ó–∞–ª–∏–π—Ç–µ —è—î—á–Ω–æ—é —Å—É–º—ñ—à—à—é',
        '–ü–æ—Å–∏–ø—Ç–µ —Å–∏—Ä–æ–º —ñ –Ω–∞–∫—Ä–∏–π—Ç–µ –∫—Ä–∏—à–∫–æ—é',
        '–ì–æ—Ç—É–π—Ç–µ 5-7 —Ö–≤–∏–ª–∏–Ω –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ',
      ],
    ),
    Recipe(
      id: '6',
      name: '–í–∞—Ä–µ–Ω–∏–∫–∏ –∑ –∫–∞—Ä—Ç–æ–ø–ª–µ—é',
      category: '–û—Å–Ω–æ–≤–Ω—ñ —Å—Ç—Ä–∞–≤–∏',
      time: '120 —Ö–≤',
      calories: 340,
      rating: 4.8,
      emoji: 'ü•ü',
      difficulty: '–°–∫–ª–∞–¥–Ω–∞',
      servings: 6,
      description: '–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –≤–∞—Ä–µ–Ω–∏–∫–∏ –∑ –∫–∞—Ä—Ç–æ–ø–ª—è–Ω–æ—é –Ω–∞—á–∏–Ω–∫–æ—é —Ç–∞ —Ü–∏–±—É–ª–µ—é.',
      ingredients: [
        '–ë–æ—Ä–æ—à–Ω–æ - 500 –≥',
        '–í–æ–¥–∞ - 250 –º–ª',
        '–Ø–π—Ü–µ - 1 —à—Ç',
        '–ö–∞—Ä—Ç–æ–ø–ª—è - 1 –∫–≥',
        '–¶–∏–±—É–ª—è - 3 —à—Ç',
        '–ú–∞—Å–ª–æ –≤–µ—Ä—à–∫–æ–≤–µ - 100 –≥',
        '–°—ñ–ª—å –∑–∞ —Å–º–∞–∫–æ–º',
        '–°–º–µ—Ç–∞–Ω–∞ –¥–ª—è –ø–æ–¥–∞—á—ñ',
      ],
      steps: [
        '–ó–∞–º—ñ—Å—ñ—Ç—å —Ç—ñ—Å—Ç–æ –∑ –±–æ—Ä–æ—à–Ω–∞, –≤–æ–¥–∏, —è–π—Ü—è —Ç–∞ —Å–æ–ª—ñ',
        '–í—ñ–¥–≤–∞—Ä—ñ—Ç—å –∫–∞—Ä—Ç–æ–ø–ª—é —ñ –∑—Ä–æ–±—ñ—Ç—å –ø—é—Ä–µ',
        '–ü—ñ–¥—Å–º–∞–∂—Ç–µ —Ü–∏–±—É–ª—é —ñ –¥–æ–¥–∞–π—Ç–µ –¥–æ –ø—é—Ä–µ',
        '–†–æ–∑–∫–∞—Ç–∞–π—Ç–µ —Ç—ñ—Å—Ç–æ —ñ –≤–∏—Ä—ñ–∂—Ç–µ –∫—Ä—É–∂–µ—á–∫–∏',
        '–ü–æ–∫–ª–∞–¥—ñ—Ç—å –Ω–∞—á–∏–Ω–∫—É —ñ –∑–∞–ª—ñ–ø—ñ—Ç—å –∫—Ä–∞—ó',
        '–í—ñ–¥–≤–∞—Ä—ñ—Ç—å –≤–∞—Ä–µ–Ω–∏–∫–∏ —É –∫–∏–ø–ª—è—á—ñ–π –≤–æ–¥—ñ 5-7 —Ö–≤–∏–ª–∏–Ω',
        '–ü–æ–¥–∞–≤–∞–π—Ç–µ –∑—ñ —Å–º–µ—Ç–∞–Ω–æ—é —Ç–∞ –ø—ñ–¥—Å–º–∞–∂–µ–Ω–æ—é —Ü–∏–±—É–ª–µ—é',
      ],
    ),
    Recipe(
      id: '7',
      name: '–ì—Ä–µ—Ü—å–∫–∏–π —Å–∞–ª–∞—Ç',
      category: '–°–∞–ª–∞—Ç–∏',
      time: '10 —Ö–≤',
      calories: 200,
      rating: 4.6,
      emoji: 'ü•í',
      difficulty: '–õ–µ–≥–∫–∞',
      servings: 4,
      description: '–°–≤—ñ–∂–∏–π —Å–µ—Ä–µ–¥–∑–µ–º–Ω–æ–º–æ—Ä—Å—å–∫–∏–π —Å–∞–ª–∞—Ç –∑ —Ñ–µ—Ç–æ—é —Ç–∞ –æ–ª–∏–≤–∫–∞–º–∏.',
      ingredients: [
        '–ü–æ–º—ñ–¥–æ—Ä–∏ - 3 —à—Ç',
        '–û–≥—ñ—Ä–∫–∏ - 2 —à—Ç',
        '–§–µ—Ç–∞ - 200 –≥',
        '–û–ª–∏–≤–∫–∏ —á–æ—Ä–Ω—ñ - 100 –≥',
        '–¶–∏–±—É–ª—è —á–µ—Ä–≤–æ–Ω–∞ - 1 —à—Ç',
        '–ë–æ–ª–≥–∞—Ä—Å—å–∫–∏–π –ø–µ—Ä–µ—Ü—å - 1 —à—Ç',
        '–û–ª–∏–≤–∫–æ–≤–∞ –æ–ª—ñ—è - 4 —Å—Ç.–ª.',
        '–õ–∏–º–æ–Ω–Ω–∏–π —Å—ñ–∫ - 2 —Å—Ç.–ª.',
        '–û—Ä–µ–≥–∞–Ω–æ, —Å—ñ–ª—å, –ø–µ—Ä–µ—Ü—å',
      ],
      steps: [
        '–ù–∞—Ä—ñ–∂—Ç–µ –≤—Å—ñ –æ–≤–æ—á—ñ –≤–µ–ª–∏–∫–∏–º–∏ —à–º–∞—Ç–∫–∞–º–∏',
        '–î–æ–¥–∞–π—Ç–µ –∫—É–±–∏–∫–∏ —Ñ–µ—Ç–∏ —Ç–∞ –æ–ª–∏–≤–∫–∏',
        '–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ –∑–∞–ø—Ä–∞–≤–∫—É –∑ –æ–ª—ñ—ó, –ª–∏–º–æ–Ω–Ω–æ–≥–æ —Å–æ–∫—É —Ç–∞ —Å–ø–µ—Ü—ñ–π',
        '–ü–æ–ª–∏–π—Ç–µ —Å–∞–ª–∞—Ç –∑–∞–ø—Ä–∞–≤–∫–æ—é',
        '–û–±–µ—Ä–µ–∂–Ω–æ –ø–µ—Ä–µ–º—ñ—à–∞–π—Ç–µ —ñ –ø–æ–¥–∞–≤–∞–π—Ç–µ',
      ],
    ),
    Recipe(
      id: '8',
      name: '–ß—ñ–∑–∫–µ–π–∫',
      category: '–î–µ—Å–µ—Ä—Ç–∏',
      time: '90 —Ö–≤ + –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è',
      calories: 520,
      rating: 4.9,
      emoji: 'üç∞',
      difficulty: '–°–∫–ª–∞–¥–Ω–∞',
      servings: 12,
      description: '–ù—ñ–∂–Ω–∏–π —á—ñ–∑–∫–µ–π–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∑ –ø–µ—á–∏–≤–∞ –∑ –∫—Ä–µ–º–æ–≤–æ—é —Å–∏—Ä–Ω–æ—é –Ω–∞—á–∏–Ω–∫–æ—é.',
      ingredients: [
        '–ö—Ä–µ–º-—Å–∏—Ä - 800 –≥',
        '–¶—É–∫–æ—Ä - 200 –≥',
        '–Ø–π—Ü—è - 4 —à—Ç',
        '–í–µ—Ä—à–∫–∏ 33% - 200 –º–ª',
        '–ü–µ—á–∏–≤–æ –¥–ª—è –æ—Å–Ω–æ–≤–∏ - 300 –≥',
        '–ú–∞—Å–ª–æ –≤–µ—Ä—à–∫–æ–≤–µ - 150 –≥',
        '–í–∞–Ω—ñ–ª—å–Ω–∏–π —Ü—É–∫–æ—Ä - 10 –≥',
        '–õ–∏–º–æ–Ω–Ω–∞ —Ü–µ–¥—Ä–∞',
      ],
      steps: [
        '–ü–æ–¥—Ä—ñ–±–Ω—ñ—Ç—å –ø–µ—á–∏–≤–æ —ñ –∑–º—ñ—à–∞–π—Ç–µ –∑ —Ä–æ–∑—Ç–æ–ø–ª–µ–Ω–∏–º –º–∞—Å–ª–æ–º',
        '–°—Ñ–æ—Ä–º—É–π—Ç–µ –æ—Å–Ω–æ–≤—É —ñ –ø–æ—Å—Ç–∞–≤—Ç–µ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫',
        '–ó–±–∏–π—Ç–µ –∫—Ä–µ–º-—Å–∏—Ä –∑ —Ü—É–∫—Ä–æ–º',
        '–î–æ–¥–∞–π—Ç–µ —è–π—Ü—è –ø–æ –æ–¥–Ω–æ–º—É, –ø–æ—Ç—ñ–º –≤–µ—Ä—à–∫–∏',
        '–í–∏–ª–∏–π—Ç–µ –∫—Ä–µ–º –Ω–∞ –æ—Å–Ω–æ–≤—É',
        '–í–∏–ø—ñ–∫–∞–π—Ç–µ –ø—Ä–∏ 160¬∞C 60-70 —Ö–≤–∏–ª–∏–Ω',
        '–û—Ö–æ–ª–æ–¥–∂—É–π—Ç–µ –ø–æ—Å—Ç—É–ø–æ–≤–æ, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ç—Ä—ñ—â–∏–Ω',
        '–¢—Ä–∏–º–∞–π—Ç–µ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É –º—ñ–Ω—ñ–º—É–º 4 –≥–æ–¥–∏–Ω–∏',
      ],
    ),
    Recipe(
      id: '9',
      name: '–ö–∞—à–∞ –≤—ñ–≤—Å—è–Ω–∞ –∑ —Ñ—Ä—É–∫—Ç–∞–º–∏',
      category: '–°–Ω—ñ–¥–∞–Ω–∫–∏',
      time: '10 —Ö–≤',
      calories: 220,
      rating: 4.4,
      emoji: 'ü•£',
      difficulty: '–õ–µ–≥–∫–∞',
      servings: 2,
      description: '–ö–æ—Ä–∏—Å–Ω–∏–π —Å–Ω—ñ–¥–∞–Ω–æ–∫ –∑ –≤—ñ–≤—Å—è–Ω–∫–∏, —Å–≤—ñ–∂–∏—Ö —Ñ—Ä—É–∫—Ç—ñ–≤ —Ç–∞ –≥–æ—Ä—ñ—Ö—ñ–≤.',
      ingredients: [
        '–í—ñ–≤—Å—è–Ω—ñ –ø–ª–∞—Å—Ç—ñ–≤—Ü—ñ - 100 –≥',
        '–ú–æ–ª–æ–∫–æ –∞–±–æ –≤–æ–¥–∞ - 400 –º–ª',
        '–ë–∞–Ω–∞–Ω - 1 —à—Ç',
        '–Ø–≥–æ–¥–∏ (–Ω–∞ –≤–∏–±—ñ—Ä) - 100 –≥',
        '–ú–µ–¥ - 2 —Å—Ç.–ª.',
        '–ì–æ—Ä—ñ—Ö–∏ - 30 –≥',
        '–ö–æ—Ä–∏—Ü—è - —â—ñ–ø–∫–∞',
      ],
      steps: [
        '–í—ñ–¥–≤–∞—Ä—ñ—Ç—å –≤—ñ–≤—Å—è–Ω–∫—É –Ω–∞ –º–æ–ª–æ—Ü—ñ –∞–±–æ –≤–æ–¥—ñ',
        '–ù–∞—Ä—ñ–∂—Ç–µ –±–∞–Ω–∞–Ω –∫—ñ–ª—å—Ü—è–º–∏',
        '–ü–æ–º–∏–π—Ç–µ —è–≥–æ–¥–∏',
        '–í–∏–∫–ª–∞–¥—ñ—Ç—å –∫–∞—à—É –≤ —Ç–∞—Ä—ñ–ª–∫–∏',
        '–ü—Ä–∏–∫—Ä–∞—Å—å—Ç–µ —Ñ—Ä—É–∫—Ç–∞–º–∏, —è–≥–æ–¥–∞–º–∏ —Ç–∞ –≥–æ—Ä—ñ—Ö–∞–º–∏',
        '–ü–æ–ª–∏–π—Ç–µ –º–µ–¥–æ–º —ñ –ø–æ—Å–∏–ø—Ç–µ –∫–æ—Ä–∏—Ü–µ—é',
      ],
    ),
    Recipe(
      id: '10',
      name: '–ö–æ—Ç–ª–µ—Ç–∏ –ø–æ-–∫–∏—ó–≤—Å—å–∫–∏',
      category: '–û—Å–Ω–æ–≤–Ω—ñ —Å—Ç—Ä–∞–≤–∏',
      time: '45 —Ö–≤',
      calories: 380,
      rating: 4.7,
      emoji: 'üçó',
      difficulty: '–°–∫–ª–∞–¥–Ω–∞',
      servings: 4,
      description: '–ö–ª–∞—Å–∏—á–Ω–∞ —Å—Ç—Ä–∞–≤–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –∫—É—Ö–Ω—ñ –∑ –∫—É—Ä—è—á–æ–≥–æ —Ñ—ñ–ª–µ –∑ –≤–µ—Ä—à–∫–æ–≤–∏–º –º–∞—Å–ª–æ–º –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.',
      ingredients: [
        '–ö—É—Ä—è—á–µ —Ñ—ñ–ª–µ - 4 —à—Ç',
        '–ú–∞—Å–ª–æ –≤–µ—Ä—à–∫–æ–≤–µ —Ö–æ–ª–æ–¥–Ω–µ - 100 –≥',
        '–ó–µ–ª–µ–Ω—å (–∫—Ä—ñ–ø, –ø–µ—Ç—Ä—É—à–∫–∞)',
        '–Ø–π—Ü—è - 3 —à—Ç',
        '–ë–æ—Ä–æ—à–Ω–æ - 100 –≥',
        '–ü–∞–Ω—ñ—Ä—É–≤–∞–ª—å–Ω—ñ —Å—É—Ö–∞—Ä—ñ - 150 –≥',
        '–°—ñ–ª—å, –ø–µ—Ä–µ—Ü—å',
        '–û–ª—ñ—è –¥–ª—è —Ñ—Ä–∏—Ç—é—Ä—É',
      ],
      steps: [
        '–í—ñ–¥–±–∏–π—Ç–µ —Ñ—ñ–ª–µ –¥–æ —Ç–æ–≤—â–∏–Ω–∏ 5 –º–º',
        '–ü—Ä–∏–≥–æ—Ç—É–π—Ç–µ –º–∞—Å–ª–æ –∑ –∑–µ–ª–µ–Ω–Ω—é, –∑–∞–º–æ—Ä–æ–∑—å—Ç–µ',
        '–ó–∞–≥–æ—Ä–Ω—ñ—Ç—å –º–∞—Å–ª–æ —É —Ñ—ñ–ª–µ, —Å—Ñ–æ—Ä–º—É–π—Ç–µ –∫–æ—Ç–ª–µ—Ç–∏',
        '–ó–∞–ø–∞–Ω–µ—Ä—É–π—Ç–µ: –±–æ—Ä–æ—à–Ω–æ, —è–π—Ü–µ, —Å—É—Ö–∞—Ä—ñ (–¥–≤—ñ—á—ñ)',
        '–û–±—Å–º–∞–∂—Ç–µ —É —Ñ—Ä–∏—Ç—é—Ä—ñ –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ—ó —Å–∫–æ—Ä–∏–Ω–∫–∏',
        '–î–æ–ø—ñ—á—ñ—Ç—å —É –¥—É—Ö–æ–≤—Ü—ñ –ø—Ä–∏ 180¬∞C 10-15 —Ö–≤–∏–ª–∏–Ω',
        '–ü–æ–¥–∞–≤–∞–π—Ç–µ –≥–∞—Ä—è—á–∏–º–∏ –∑ –∫–∞—Ä—Ç–æ–ø–ª–µ—é',
      ],
    ),
  ];

  List<Recipe> _filteredRecipes = [];
  String _currentSearchQuery = '';
  String _currentCategory = '–í—Å—ñ';

  Future<void> _onRefreshRecipesEvent(
    RefreshRecipesEvent event,
    Emitter<RecipesState> emit,
  ) async {
    emit(RecipesLoadingState(data: state.data, selectedCategory: _currentCategory));

    try {
      await Future.delayed(const Duration(seconds: 1));


      // throw Exception('–¢–µ—Å—Ç–æ–≤–∞ –ø–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è');

      _filteredRecipes = List.from(_allRecipes);
      _applyFilters();

      emit(RecipesDataState(data: _filteredRecipes, selectedCategory: _currentCategory));
    } catch (e) {
      emit(RecipesErrorState(
        error: '–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç–∏: ${e.toString()}',
        data: state.data,
        selectedCategory: _currentCategory,
      ));
    }
  }

  // –ú–µ—Ç–æ–¥ –ø–æ—à—É–∫—É —Ä–µ—Ü–µ–ø—Ç—ñ–≤
  Future<void> _onSearchRecipesEvent(
    SearchRecipesEvent event,
    Emitter<RecipesState> emit,
  ) async {
    _currentSearchQuery = event.query.toLowerCase();
    _applyFilters();
    emit(RecipesDataState(data: _filteredRecipes, selectedCategory: _currentCategory));
  }

  // –ú–µ—Ç–æ–¥ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
  Future<void> _onFilterByCategoryEvent(
    FilterByCategoryEvent event,
    Emitter<RecipesState> emit,
  ) async {
    _currentCategory = event.category;
    _applyFilters();
    emit(RecipesDataState(data: _filteredRecipes, selectedCategory: _currentCategory));
  }

  // –ú–µ—Ç–æ–¥ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
  Future<void> _onSortRecipesEvent(
    SortRecipesEvent event,
    Emitter<RecipesState> emit,
  ) async {
    emit(RecipesLoadingState(data: state.data, selectedCategory: _currentCategory));

    await Future.delayed(const Duration(milliseconds: 300));

    switch (event.sortType) {
      case RecipeSortType.nameAsc:
        _filteredRecipes.sort((a, b) => a.name.compareTo(b.name));
        break;
      case RecipeSortType.nameDesc:
        _filteredRecipes.sort((a, b) => b.name.compareTo(a.name));
        break;
      case RecipeSortType.ratingDesc:
        _filteredRecipes.sort((a, b) => b.rating.compareTo(a.rating));
        break;
      case RecipeSortType.caloriesAsc:
        _filteredRecipes.sort((a, b) => a.calories.compareTo(b.calories));
        break;
      case RecipeSortType.timeAsc:
        _filteredRecipes.sort((a, b) {
          int timeA = _parseTime(a.time);
          int timeB = _parseTime(b.time);
          return timeA.compareTo(timeB);
        });
        break;
    }

    emit(RecipesDataState(data: _filteredRecipes, selectedCategory: _currentCategory));
  }

  void _applyFilters() {
    _filteredRecipes = List.from(_allRecipes);

    // –§—ñ–ª—å—Ç—Ä –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
    if (_currentCategory != '–í—Å—ñ') {
      _filteredRecipes = _filteredRecipes
          .where((recipe) => recipe.category == _currentCategory)
          .toList();
    }

    // –§—ñ–ª—å—Ç—Ä –∑–∞ –ø–æ—à—É–∫–æ–≤–∏–º –∑–∞–ø–∏—Ç–æ–º
    if (_currentSearchQuery.isNotEmpty) {
      _filteredRecipes = _filteredRecipes.where((recipe) {
        return recipe.name.toLowerCase().contains(_currentSearchQuery) ||
            recipe.category.toLowerCase().contains(_currentSearchQuery) ||
            recipe.ingredients.any(
                (ingredient) => ingredient.toLowerCase().contains(_currentSearchQuery));
      }).toList();
    }
  }

  int _parseTime(String time) {
    final match = RegExp(r'(\d+)').firstMatch(time);
    if (match != null) {
      return int.parse(match.group(1)!);
    }
    return 0;
  }
}
